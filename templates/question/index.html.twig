{% extends "global/layout.html.twig" %}

{% set actived = 'index' %}

{% block content %}
    <div class="card">
        <div class="card-body">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link{% if sort == 'hottest' %} active{% endif %}"
                       href="{{ path('question_index') }}?sort=hottest">Hottest</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link{% if sort == 'newest' or sort == '' %} active{% endif %}"
                       href="{{ path('question_index') }}?sort=newest">Newest</a>
                </li>
            </ul>
            {% for question in questions %}
                <section class="question-summary narrow">
                    <div class="cp">
                        <div class="status{% if question.isSolved %} answered-accepted{% elseif question.answers != null %} answered{% else %} unanswered{% endif %}">
                            <div class="mini-counts">
                                <span>{{ question.answers|length }}</span>
                            </div>
                            <div>answers</div>
                        </div>
                        <div class="views">
                            <div class="mini-counts">
                                <span>{{ question.views }}</span>
                            </div>
                            <div>views</div>
                        </div>
                    </div>
                    <div class="summary">
                        <h3>
                            <a class="header"
                               href="{{ path('question_show', {id: question.id}) }}">{{ question.subject }}</a>
                        </h3>
                        <div class="tags float-left">
                            {% for tag in question.tags %}
                                <a class="btn btn-sm btn-light" href="">{{ tag.name }}</a>
                            {% endfor %}
                        </div>
                        <div class="started float-right">
                            <a href="#">{{ question.user.username }}</a>
                            <a href="#" class="started-link">asked on
                                <time class="date"
                                      datetime="{{ question.createdAt | date('c') }}">{{ question.createdAt | ago }}</time>
                            </a>
                        </div>
                    </div>
                </section>
            {% endfor %}
        </div>
        {# display navigation #}
        {{ knp_pagination_render(questions) }}

    </div>
{% endblock %}